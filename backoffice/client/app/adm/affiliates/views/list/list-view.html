<!-- LIST VIEW -->
<md-table-pagination
    md-limit="vm.pagination.limit"
    md-page="vm.pagination.page"
    md-total="{{ vm.total }}"
    md-on-paginate="vm.getList"
    md-label="{page: 'Página:', rowsPerPage: 'Itens por página:', of: 'de'}"
    md-page-select
></md-table-pagination>
<table
    ng-show="vm.items.length"
    md-table
    md-row-select="options.rowSelection"
    ng-model="vm.selected"
    md-progress="promise"
>
    <thead md-head md-order="vm.order">
        <tr md-row>
            <th md-column md-order-by="profile.firstname" ng-click="vm.sort()">
                Nome
            </th>
            <th md-column md-order-by="comissions.total" ng-click="vm.sort()">
                Total
            </th>
            <th md-column md-order-by="comissions.paid" ng-click="vm.sort()">
                Pago
            </th>
            <th md-column md-order-by="comissions.pending" ng-click="vm.sort()">
                Pendente
            </th>
            <th md-column>Dashboard</th>
        </tr>
    </thead>
    <tbody md-body>
        <tr
            md-row
            md-select="item"
            md-auto-select
            ng-repeat="item in vm.items | orderBy : vm.order track by $index"
            ng-click="vm.select(item)"
            ng-class="{'selected' : vm.selected === item}"
        >
            <td md-cell>
                <strong
                    >{{ item.profile.firstname }}
                    {{ item.profile.lastname }}</strong
                >
            </td>
            <td md-cell>{{ item.comissions.total | currency }}</td>
            <td md-cell>{{ item.comissions.paid | currency }}</td>
            <td md-cell>{{ item.comissions.pending | currency }}</td>
            <td md-cell>
                <md-button
                    class="md-icon-button"
                    ui-sref="app.dashboard({ affiliateId: item._id, affiliateName: item.profile.firstname + '  ' + item.profile.lastname })"
                >
                    <md-icon md-font-icon="icon-tile-four"></md-icon>
                </md-button>
            </td>
        </tr>
    </tbody>
</table>
<empty-alert
    header="Sua busca não retornou nenhum resultado"
    show="!vm.items.length"
>
    Você pode adicionar Decoradores clicando no botão '<md-icon
        md-font-icon="icon-account-plus"
    ></md-icon
    >' acima.
</empty-alert>
<!-- / LIST VIEW -->
